var ip="192.168.0.235",port="3000",socket=io.connect(ip+":"+port),loginStatus="false";$(function(){function t(t,n,e){o=$("#output"),t.html(n+":"+e),o.append(t),o.scrollTop(o[0].scrollHeight)}socket.on("connect",function(){socket.emit("loginCheck",prompt("請輸入你的暱稱?"))}),socket.on("disconnect",function(){alert("You have disconnected with server!"),location.reload()}),socket.on("loginStatus",function(t){t?loginStatus=!0:(loginStatus=!1,socket.emit("loginCheck",prompt("名稱重複囉~ 換個暱稱吧!")))});var o;socket.on("LogInOutMessages",function(o,n){var e=$("<h3>");t(e,o,n)});var n;socket.on("globalMessages",function(o,e){n=$("<p>"),t(n,o,e)}),socket.on("setFontColor",function(t){var o="#"+t;n.css({color:o})}),socket.on("statusCount",function(t){$(".status-amount p span").text(t)}),socket.on("statusName",function(t){$(".status-name p span").text(t)});var e=$("#template").html(),c=$(".popList-content"),s=c.html();socket.on("statusList",function(t){c.html(s);for(var o=t.length,n=0;o>n;n++){var a=e.replace(/{name}/,t[n]);c.prepend(a)}$(".popList-top h3").html(o+" Online")})}),$(function(){var t,o;$("#send-text").click(function(){t=$("#data").val(),""!==t&&(socket.emit("sendchat",t,o),$("#data").val(""))}),$("#data").keyup(function(t){13==t.keyCode&&($("#send-text").click(),$(this).val(""))}),$(".send-bar-list").click(function(){$(".popList").animate({right:-280},1e3,"easeOutBounce")}),$(".clear").click(function(){$(".popList").animate({right:10},800,"easeInSine")}),$(".set-font-color").click(function(){$(".popColor").slideDown("slow")}),$(".popColor ul li").click(function(){o=$(this).css("backgroundColor"),$(".popColor").slideUp("slow")});var n=["#ff9eb7","#80d04b","#03c8fa","#f9a68f","#d62d20","#8855dd","#7e7217","#e7d9aa"];$(".popColor ul li").each(function(t){$(this).css({backgroundColor:n[t]})})});