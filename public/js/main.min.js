var ip="192.168.0.235",port="3000",socket=io.connect(ip+":"+port),loginStatus="false";$(function(){function t(t,o,e){n=$("#output"),t.html(o+":"+e),n.append(t),n.scrollTop(n[0].scrollHeight)}socket.on("connect",function(){socket.emit("loginCheck",prompt("請輸入你的暱稱?"))}),socket.on("disconnect",function(){alert("You have disconnected with server!"),location.reload()}),socket.on("loginStatus",function(t){t?loginStatus=!0:(loginStatus=!1,socket.emit("loginCheck",prompt("名稱重複囉~ 換個暱稱吧!")))});var n;socket.on("LogInOutMessages",function(n,o){var e=$("<h3>");t(e,n,o)});var o;socket.on("globalMessages",function(n,e){o=$("<p>"),t(o,n,e)}),socket.on("setFontColor",function(t){var n="#"+t;o.css({color:n})}),socket.on("statusCount",function(t){$(".status-amount p span").text(t)}),socket.on("statusName",function(t){$(".status-name p span").text(t)});var e=$("#template").html(),c=$(".popList-content"),s=c.html();socket.on("statusList",function(t){c.html(s);for(var n=t.length,o=0;n>o;o++){var a=e.replace(/{name}/,t[o]);c.prepend(a)}$(".popList-top h3").html(n+" Online")})}),$(function(){var t;$("#send-text").click(function(){t=$("#data").val(),""!==t&&(socket.emit("sendchat",t),$("#data").val(""))}),$("#data").keyup(function(t){13==t.keyCode&&($("#send-text").click(),$(this).val(""))}),$(".send-bar-list").click(function(){$(".popList").animate({right:-280},1e3,"easeOutBounce")}),$(".clear").click(function(){$(".popList").animate({right:10},800,"easeInSine")})});