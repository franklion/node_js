var ip="192.168.0.247",port="3000",socket=io.connect(ip+":"+port),loginStatus="false";$(function(){function t(t,n,e){o=$("#output"),t.html(n+":"+e),o.append(t),o.scrollTop(o[0].scrollHeight)}socket.on("connect",function(){socket.emit("loginCheck",prompt("請輸入你的暱稱?"))}),socket.on("disconnect",function(){alert("You have disconnected with server!"),location.reload()}),socket.on("loginStatus",function(t){t?loginStatus=!0:(loginStatus=!1,socket.emit("loginCheck",prompt("名稱重複囉~ 換個暱稱吧!")))});var o;socket.on("LogInOutMessages",function(o,n){var e=$("<h3>");t(e,o,n)});var n;socket.on("globalMessages",function(o,e){n=$("<p>"),t(n,o,e)}),socket.on("setFontColor",function(t){var o="#"+t;n.css({color:o})}),socket.on("statusCount",function(t){$(".status-amount p span").text(t)}),socket.on("statusName",function(t){$(".status-name p span").text(t)}),socket.on("statusList",function(t){});var e=$("#template").html(),s=$(".popList-content"),c=s.html();socket.on("test",function(t){s.html(c);for(var o=t.length,n=0;o>n;n++){var a=e.replace(/{name}/,t[n]);s.prepend(a)}$(".popList-top h3").html(o+" Online")})}),$(function(){$("#send-text").click(function(){var t=$("#data").val();socket.emit("sendchat",t),$("#data").val("")});var t;$("#data").keyup(function(o){13==o.keyCode&&(t=$(this).val(),$("#send-text").click(),$(this).val(""))})});